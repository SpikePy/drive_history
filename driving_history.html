<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no" ZZ/>
    <title>Driving History</title>
    <link rel="icon" type="image/svg+xml" href="images/car.svg">
    <style>
        body {
            text-align:  center;
            font-family: sans-serif;
            font-size:   14pt;
            line-height: 1.3;
            background-color: WhiteSmoke;
        }

        h1 {
            font-size: 3em;
        }

        .interaction-area {
            margin: 3em;
        }

        input {
            text-align: center;
            width: 6em;
            font-size: 1em;
        }
        button {
            padding:   0px;
            font-size: 1em;
            margin:    .1em .2em;
        }

        table {
            margin: 1em auto 3em auto;
        }
        td {
            width: 5em;
            padding: .2em;
        }

        #log > p {
            font-size: 1em;
            padding: 0;
            margin: 0;
            text-decoration: underline .1em;
        }

        ul {
            margin:  0 0 1em;
            padding: 0;
        }

        li {
            font-size: 1em;
            list-style-type: none;
        }

        .2 {
          color: red;
        }

        .-2 {
          color: grey;
        }
    </style>
    <script>
        function loaded() {
            today         = new Date()
            year          = today.getYear()+1900
            month         = "" +today.getMonth()+1
            day           = "" +today.getDate()
            date          = `${year}-${month}-${day}`
            td_date.value = date

            document.getElementById("eval-ren").innerHTML = (document.getElementsByClassName('ren driver 2').length*2 + document.getElementsByClassName('ren driver 1').length) - (document.getElementsByClassName('ren passenger 2').length*2 + document.getElementsByClassName('ren passenger 1').length)
            document.getElementById("eval-mat").innerHTML = (document.getElementsByClassName('mat driver 2').length*2 + document.getElementsByClassName('mat driver 1').length) - (document.getElementsByClassName('mat passenger 2').length*2 + document.getElementsByClassName('mat passenger 1').length)
            document.getElementById("eval-yve").innerHTML = (document.getElementsByClassName('yve driver 2').length*2 + document.getElementsByClassName('yve driver 1').length) - (document.getElementsByClassName('yve passenger 2').length*2 + document.getElementsByClassName('yve passenger 1').length)
        }
    </script>
</head>
<body onload="loaded()">
    <h1><src="images/car.svg"> Driving history</h1>


    <div class="interaction-area">
        <h2>Create new Entry</h2>
        <form action="/cgi-bin/drive_entry.cgi" method="post">
            <table>
                <tr>
                    <td>Date</td>
                    <td><input type='text'   name='date' value=''  id='td_date' title='YYYY-MM-DD' disabled></td>
                </tr>
                <tr>
                    <td>Rene</td>
                    <td><input type='number' name='ren'  value='0' min='-2' max='2'></td>
                </tr>
                <tr>
                    <td>Mattias</td>
                    <td><input type='number' name='mat'  value='0' min='-2' max='2'></td>
                </tr>
                <tr>
                    <td>Yvette</td>
                    <td><input type='number' name='yve'  value='0' min='-2' max='2'></td>
                </tr>
                <tr>
                    <td colspan='2'><button type='submit'>Submit</button></td>
                </tr>
            </table>
        </form>
    </div>

    <div id='evaluation'>
        <h2>Evaluation</h2>
        <table>
            <tr>
                <th>Rene</th>
                <th>Matthias</th>
                <th>Yvette</th>
            </tr>
            <tr>
                <td id="eval-ren">-</td>
                <td id="eval-mat">-</td>
                <td id="eval-yve">-</td>
            </tr>
        </table>
    </div>

    <div id='log'><h2>Log</h2>
<p>2020-01-16<ul><li class='ren 2' value='2'>Ren√© (2)</li><li class='mat 0' value='0'>Matthias (0)</li><li class='yve -2' value='-2'>Yvette (-2)</li></ul></p>

<!-- Correct Entries -->
<p>2020-01-15<ul><li class="ren -2" value="-2">Rene (-2)</li><li class="mat -1" value="-1">Matthias (-1)</li><li class="yve 2" value="2">Yvette (2)</li></ul></p>
<p>2020-01-07<ul><li class="mat -2" value="-2">Matthias (-2)</li><li class="ren 2" value="2">Rene (2)</li></ul></p>
<p>2020-01-06<ul><li class="ren -2" value="-2">Rene (-2)</li><li class="mat 2" value="2">Matthias (2)</li></ul></p>
    </div>
</body>
</html>
